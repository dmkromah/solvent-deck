
* { box-sizing: border-box; }
:root {
  --bg: #0b1020;
  --surface: #121933;
  --surface-2: #1a2347;
  --text: #eef2ff;
  --muted: #b6c0ff;
  --primary: #6aa9ff;
  --accent: #ffd166;
  --spades: #4f64ff;
  --clubs: #22c55e;
  --hearts: #ef4444;
  --diamonds: #f59e0b;
}
html, body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

/* Header / Nav */
.app-header {
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: linear-gradient(180deg, #0b1020 0%, #121933 100%);
  border-bottom: 1px solid #223;
}
.brand { display: flex; align-items: center; gap: 8px; }
.brand .logo { font-size: 20px; }
.brand .title { font-weight: 700; letter-spacing: 0.3px; }
.top-nav { display: flex; gap: 6px; flex-wrap: wrap; }
.top-nav button {
  background: transparent;
  color: var(--muted);
  border: 1px solid #243157;
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
}
.top-nav button:hover { border-color: var(--primary); color: var(--text); }

/* Footer */
.app-footer {
  padding: 12px 16px;
  border-top: 1px solid #223;
  color: var(--muted);
  text-align: center;
}

/* Layout */
main { padding: 16px; }
.section { display: none; max-width: 1100px; margin: 0 auto; }
.section.visible { display: block; }

/* Hero */
.hero {
  background: var(--surface);
  border: 1px solid #223;
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}
.hero h1 { margin-top: 0; }
.subtitle { color: var(--muted); }
.actions { margin-top: 16px; display: flex; gap: 12px; }
.primary {
  background: var(--primary);
  color: #0b1020;
  border: none;
  padding: 10px 14px;
  border-radius: 10px;
  font-weight: 700;
  cursor: pointer;
}
button {
  background: #1a2347;
  color: var(--text);
  border: 1px solid #243157;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
}
button:hover { border-color: var(--primary); }
.progress-dots { margin-top: 24px; color: var(--muted); }

/* Grids */
.grid { display: grid; gap: 12px; }
.grid-2 { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
.grid-3 { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
.grid-4 { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }

/* Cards / Panels */
.card {
  background: var(--surface);
  padding: 16px;
  border-radius: 12px;
  border: 1px solid #243157;
}
.card.info { background: var(--surface-2); }
.card.domain h3 { margin-top: 0; }

/* Controls / Forms */
.controls { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; margin: 10px 0 16px; }
.muted { color: var(--muted); }
.label { font-size: 12px; color: var(--muted); }
.card-editor { display: grid; gap: 8px; }
.card-editor input[type="text"],
.card-editor textarea,
.card-editor input[type="date"],
.card-editor input[type="number"] {
  width: 100%;
  padding: 10px;
  background: #0f1631;
  color: var(--text);
  border: 1px solid #2a3460;
  border-radius: 8px;
}

/* Suit badges */
.suit-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid #2a3460;
}
.suit-spades { background: rgba(79,100,255,0.12); color: #cfe0ff; }
.suit-clubs { background: rgba(34,197,94,0.12); color: #d9ffe7; }
.suit-hearts { background: rgba(239,68,68,0.12); color: #ffd9d9; }
.suit-diamonds { background: rgba(245,158,11,0.12); color: #fff0cc; }

/* Chips */
.card-chip {
  border: 1px dashed #2a3460;
  padding: 8px;
  border-radius: 10px;
  display: grid;
  gap: 6px;
}
.card-chip .title { font-weight: 600; }
.card-chip .meta { display: flex; gap: 8px; flex-wrap: wrap; font-size: 12px; color: var(--muted); }

/* Plan / Tasks */
.plan-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
}
.day-col {
  background: var(--surface);
  border: 1px solid #243157;
  border-radius: 12px;
  padding: 10px;
}
.day-col h3 { margin-top: 0; font-size: 16px; }
.task {
  display: grid;
  gap: 6px;
  background: #0f1631;
  border: 1px solid #2a3460;
  border-radius: 10px;
  padding: 8px;
  margin-bottom: 8px;
}
.task .meta {
  display: flex;
  gap: 8px;
  font-size: 12px;
  color: var(--muted);
  align-items: center;
}
.task .done { text-decoration: line-through; opacity: 0.6; }

/* Today list */
.list .row {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 10px;
  background: var(--surface);
  border: 1px solid #243157;
  border-radius: 10px;
  padding: 10px;
  margin-bottom: 8px;
}

/* Extras */
hr.sep { border: none; border-top: 1px solid #243157; margin: 12px 0; }
.badge { padding: 2px 6px; border-radius: 999px; font-size: 11px; border: 1px solid #2a3460; color: var(--muted); }
.badge.good { color: #c7f9cc; border-color: #2e6044; }
.badge.warn { color: #ffe8a3; border-color: #6b5d2a; }
.badge.danger { color: #ffc0c0; border-color: #6b2a2a; }
.small { font-size: 12px; color: var(--muted); }

/* ===== v0.2 A11y & polish ===== */

/* Higher-contrast suit badges (borders & text) */
.suit-badge { border-color: #3a4a8b; }
.suit-spades { background: rgba(79,100,255,0.18); color: #e6eeff; }
.suit-clubs { background: rgba(34,197,94,0.18); color: #e9ffe9; }
.suit-hearts { background: rgba(239,68,68,0.18); color: #ffe6e6; }
.suit-diamonds { background: rgba(245,158,11,0.18); color: #fff2d6; }

/* Visible focus ring for keyboard users */
:focus {
  outline: 3px solid #ffd166;
  outline-offset: 2px;
}
button:focus, input:focus, select:focus {
  outline: 3px solid #ffd166;
  outline-offset: 2px;
}

/* Skip link */
.skip-link {
  position: absolute;
  left: -9999px;
  top: 8px;
  background: #ffd166;
  color: #0b1020;
  padding: 8px 12px;
  border-radius: 8px;
  z-index: 1000;
}
.skip-link:focus {
  left: 12px;
}

/* Danger button (Reset) */
button.danger {
  background: #351414;
  border-color: #5c1f1f;
  color: #ffd0d0;
}
button.danger:hover {
  border-color: #ff5a5a;
  color: #ffffff;
}

/* Small helper text spacing */
.small { margin-top: 6px; display: block; }
``

/* ===== v0.3 Drag & Drop + inline edit ===== */

/* Drag visual cues */
.day-col.drag-over { outline: 2px dashed #ffd166; outline-offset: 4px; }
.task.dragging { opacity: 0.5; }

/* Show grab cursor to hint it's movable */
.task { cursor: move; }

/* Inline-edit inputs */
.inline-edit {
  width: 100%;
  background: #0f1631;
  color: var(--text);
  border: 1px solid #2a3460;
  border-radius: 6px;
  padding: 6px 8px;
  font: inherit;
}
.inline-edit:focus {
  outline: 3px solid #ffd166;
  outline-offset: 2px;
}

/* ===== v0.3.1 Drag-to-Copy polish ===== */
body.copy-mode .task { cursor: copy; }           /* visual hint when Alt is held */
.task.copying { box-shadow: 0 0 0 2px #ffd16666; } /* subtle halo while dragging in copy mode */
